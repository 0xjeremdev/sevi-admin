{"version":3,"sources":["components/FormFields/FormFields.tsx","assets/image/PickBazar.png","containers/Login/Login.style.tsx","containers/Login/Login.tsx"],"names":["Title","styled","$theme","typography","font18","marginTop","marginBottom","color","colors","textDark","textAlign","Label","fontBold14","FormFields","fontBold12","red400","marginLeft","children","overrides","Block","style","width","display","flexDirection","margin","FormLabel","FormTitle","module","exports","Wrapper","height","alignItems","justifyContent","backgroundColor","borderF1","FormWrapper","borderRadius","padding","LogoWrapper","LogoImage","backfaceVisibility","maxWidth","QRWrapper","initialValues","username","password","getLoginValidationSchema","Yup","shape","required","history","useHistory","location","useLocation","useContext","AuthContext","authenticate","isAuthenticated","to","pathname","from","state","useState","uuidv4","difficultKey","console","log","QRcontent","key","type","GET_JWT","gql","useSubscription","variables","qrkey","data","error","loading","useEffect","authToken","getMyToken","jwt","replace","onSubmit","render","errors","status","touched","isSubmitting","src","Logoimage","alt","value","JSON","stringify","level","size","validationSchema"],"mappings":"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","file":"static/js/23.ef84ae11.chunk.js","sourcesContent":["import React from \"react\";\nimport { Block } from \"baseui/block\";\nimport { styled } from \"baseui\";\n\nconst Title = styled(\"h3\", ({ $theme }) => ({\n  ...$theme.typography.font18,\n  marginTop: \"0\",\n  marginBottom: \"0\",\n  color: $theme.colors.textDark,\n  textAlign: \"center\"\n}));\n\nconst Label = styled(\"label\", ({ $theme }) => ({\n  ...$theme.typography.fontBold14,\n  marginBottom: \"10px\",\n  color: $theme.colors.textDark\n}));\n\nconst Msg = styled(\"span\", ({ $theme }) => ({\n  ...$theme.typography.fontBold12,\n  color: $theme.colors.red400,\n  marginTop: \"5px\",\n  marginLeft: \"auto\"\n}));\n\nexport const FormFields = ({ children }) => {\n  return (\n    <Block\n      overrides={{\n        Block: {\n          style: {\n            width: \"100%\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            margin: \"20px 0\",\n\n            \":first-child\": {\n              marginTop: 0\n            },\n\n            \":last-child\": {\n              marginBottom: 0\n            },\n\n            \":only-child\": {\n              margin: 0\n            }\n          }\n        }\n      }}\n    >\n      {children}\n    </Block>\n  );\n};\n\nexport const FormLabel = ({ children }) => {\n  return <Label>{children}</Label>;\n};\n\nexport const FormTitle = ({ children }) => {\n  return <Title>{children}</Title>;\n};\n\nexport const Error = ({ children }) => {\n  return <Msg>{children}</Msg>;\n};\n","module.exports = \"data:image/png;base64,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\"","import { styled } from \"baseui\";\n\nexport const Wrapper = styled(\"div\", ({ $theme }) => ({\n  width: \"100vw\",\n  height: \"100vh\",\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  backgroundColor: $theme.colors.borderF1,\n\n  \"@media only screen and (max-width: 520px)\": {\n    backgroundColor: \"#fff\",\n  },\n}));\n\nexport const FormWrapper = styled(\"div\", () => ({\n  width: \"470px\",\n  borderRadius: \"3px\",\n  backgroundColor: \"#ffffff\",\n  padding: \"50px\",\n  display: \"flex\",\n  flexDirection: \"column\",\n\n  \"@media only screen and (max-width: 500px)\": {\n    width: \"100%\",\n    padding: \"30px\",\n  },\n}));\n\nexport const LogoWrapper = styled(\"div\", () => ({\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  marginBottom: \"20px\",\n}));\n\nexport const LogoImage = styled(\"img\", () => ({\n  display: \"block\",\n  backfaceVisibility: \"hidden\",\n  maxWidth: \"150px\",\n}));\n\nexport const QRWrapper = styled(\"div\", () => ({\n  display: \"flex\",\n  justifyContent: \"center\",\n  marginTop: \"20px\",\n}));\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { Redirect, useHistory, useLocation } from \"react-router-dom\";\nimport {\n  Formik,\n  Form,\n  //  Field\n} from \"formik\";\nimport * as Yup from \"yup\";\nimport { AuthContext } from \"context/auth\";\nimport {\n  FormFields,\n  // FormLabel,\n  FormTitle,\n  // Error,\n} from \"components/FormFields/FormFields\";\nimport {\n  Wrapper,\n  FormWrapper,\n  LogoImage,\n  LogoWrapper,\n  QRWrapper,\n} from \"./Login.style\";\nimport Input from \"components/Input/Input\";\n// import Button from \"components/Button/Button\";\nimport Logoimage from \"assets/image/PickBazar.png\";\n\nimport QRCode from \"qrcode.react\";\nimport { useSubscription, gql, useMutation } from \"@apollo/client\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nconst initialValues = {\n  username: \"\",\n  password: \"\",\n};\n\nconst getLoginValidationSchema = () => {\n  return Yup.object().shape({\n    username: Yup.string().required(\"Username is Required!\"),\n    password: Yup.string().required(\"Password is Required!\"),\n  });\n};\n\n// const MyInput = ({ field, form, ...props }) => {\n//   return <Input {...field} {...props} />;\n// };\n\nexport default () => {\n  let history = useHistory();\n  let location = useLocation();\n  const { authenticate, isAuthenticated } = useContext(AuthContext);\n  if (isAuthenticated) return <Redirect to={{ pathname: \"/\" }} />;\n\n  let { from } = (location.state as any) || { from: { pathname: \"/\" } };\n  // let sessionToken = localStorage.getItem(\"myAuthToken\");\n\n  const [difficultKey, setDifficultKey] = useState(uuidv4());\n  // // const [isToken, setIsToken] = useState(sessionToken);\n\n  console.log(\"difficultKey:\", difficultKey);\n\n  const QRcontent = {\n    key: difficultKey,\n    type: \"weblogin\",\n  };\n\n  const GET_JWT = gql`\n    subscription($qrkey: String!) {\n      getMyToken(input: { qrKey: $qrkey }) {\n        jwt\n      }\n    }\n  `;\n\n  const { data, loading, error } = useSubscription(GET_JWT, {\n    variables: {\n      qrkey: difficultKey,\n    },\n  });\n\n  if (error) {\n    console.log(\"error:\", error);\n  }\n\n  useEffect(() => {\n    if (data) {\n      console.log(\"data:\", data);\n\n      authenticate(\n        { username: \"\", password: \"\", authToken: data.getMyToken.jwt },\n        () => {\n          history.replace(from);\n        }\n      );\n    }\n  }, [data]);\n\n  let login = ({ username, password }) => {\n    authenticate({ username, password, authToken: \"\" }, () => {\n      history.replace(from);\n    });\n  };\n\n  return (\n    <Wrapper>\n      <FormWrapper>\n        <Formik\n          initialValues={initialValues}\n          onSubmit={login}\n          render={({ errors, status, touched, isSubmitting }) => (\n            <Form>\n              <FormFields>\n                <LogoWrapper>\n                  <LogoImage src={Logoimage} alt=\"pickbazar-admin\" />\n                </LogoWrapper>\n                <FormTitle>Login to admin account</FormTitle>\n              </FormFields>\n              {/* <FormFields>\n                <FormLabel>Username</FormLabel>\n                <Field\n                  type=\"email\"\n                  name=\"username\"\n                  component={MyInput}\n                  placeholder=\"Ex: demo@demo.com\"\n                />\n                {errors.username && touched.username && (\n                  <Error>{errors.username}</Error>\n                )}\n              </FormFields>\n              <FormFields>\n                <FormLabel>Password</FormLabel>\n                <Field\n                  type=\"password\"\n                  name=\"password\"\n                  component={MyInput}\n                  placeholder=\"Ex: demo\"\n                />\n                {errors.password && touched.password && (\n                  <Error>{errors.password}</Error>\n                )}\n              </FormFields>\n              <Button\n                type=\"submit\"\n                disabled={isSubmitting}\n                overrides={{\n                  BaseButton: {\n                    style: ({ $theme }) => ({\n                      width: \"100%\",\n                      marginLeft: \"auto\",\n                      borderTopLeftRadius: \"3px\",\n                      borderTopRightRadius: \"3px\",\n                      borderBottomLeftRadius: \"3px\",\n                      borderBottomRightRadius: \"3px\",\n                    }),\n                  },\n                }}\n              >\n                Submit\n              </Button> */}\n\n              <QRWrapper>\n                <QRCode\n                  value={JSON.stringify(QRcontent)}\n                  level=\"M\"\n                  size={256}\n                />\n              </QRWrapper>\n            </Form>\n          )}\n          validationSchema={getLoginValidationSchema}\n        />\n      </FormWrapper>\n    </Wrapper>\n  );\n};\n"],"sourceRoot":""}